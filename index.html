<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <title>Math Addintion Game</title>

   <!-- Css Link -->
   <link rel="stylesheet" href="style.css">
</head>
<body>
   <!-- Main Container -->
   <div class="main-container">
      <div class="main">
         

         <!-- Main Box -->
         <div class="main-box">
            <div class="show-anwser"><span id="ans"></span></div>
            
            <div class="box1">
               <div class="box-col">
                  <input type="textf" id="intext" class="intext11">
               </div>

               <div class="add-s">
                  <p><input id="mark" class="mark11"></p>
               </div>

                <div class="box-col">
                  <input type="textf" id="intext1" class="intext11">
               </div>

               <div class="add-s">
                  <p><input id="mark1" class="mark11"></p>
               </div>

                <div class="box-col">
                  <input type="textf" id="intext2"1 class="intext11">
               </div>
            
            </div>

            <!-- text input -->
            <div class="box2">
               <input tpye="text" id="intext3">
            </div>
            <!-- button -->
             <div class="box2">
               <button class="btn"onclick="Game()">Check Anwser</button>
                  <a href="http://127.0.0.1:5500/1.html">
                     <button class="ui-btn">
                        <span>
                          back to Game 
                        </span>
               </button>
            </div>
         </div>
      </div>
   </div>

   <script>
      let n1 = Math.floor(Math.random()*12+1);
      let n2 = Math.floor(Math.random()*12+1);
      let n3 = Math.floor(Math.random()*12+1);
      let ranNum;
      let lost = 0;
      let win=0;
      let suser;
      let level=0;
      let L = 10;
      let multiply = 10;
      document.getElementById("intext").value = n1;
      document.getElementById("intext1").value = n2;
      document.getElementById("intext2").value = n3;
      document.getElementById("mark").value = "+";
      document.getElementById("mark1").value = "+";

      let adds= n1 + n2 + n3;
      let ladd;
      function Game(){
         var user= document.getElementById("intext3").value;
         if( user == adds){
            document.getElementById("ans").innerHTML = "Well Done! Your Answer is Correct";
            lost = 0;
            win++;
            if(win > 2 ){
            win = 0;
            level++;
            L = L*10;
            if( level % 4 == 0){
               multiply = multiply*10;
            }
         }
         }else if(suser == user){
            document.getElementById("ans").innerHTML = "Not Correct Answer"+ user +" . คำตอบนี้คุณพึ่งตอบไปครั้งที่แล้วนะ";
            window.location.href = path;
         }else if( user == ladd){
            document.getElementById("ans").innerHTML = "Not Correct Answer"+ user +" . ลองคูณก่อนแล้วแล้วค่อยบวกดูสิ";
            suser = user;
            window.location.href = path;
         }else if( lost > 5){
            document.getElementById("ans").innerHTML = "Correct Answer " + adds + " . ถ้าจะขนาดนี้บอกคำตอบให้ก็ได้";
            window.location.href = path;
         }
         else{
             document.getElementById("ans").innerHTML = "Not Correct Answer " + user + " . ลองดูใหม่นะสุดสวย";
             suser = user;
             lost++;
             window.location.href = path;
         }

           var user= document.getElementById("intext3").value = "";
      
      ranNum = Math.floor(Math.random()*4+1);
      if(ranNum == 1){
         
      n1 = Math.floor(Math.random()*L+1);
      n2 = Math.floor(Math.random()*L+1);
      n3 = Math.floor(Math.random()*L+1);
   
      document.getElementById("intext").value = n1;
      document.getElementById("intext1").value = n2;
      document.getElementById("intext2").value = n3;
      document.getElementById("mark").value = "+";
      document.getElementById("mark1").value = "+";

      adds= n1 + n2 + n3;

      }else if(ranNum == 2){

      n1 = Math.floor(Math.random()*L+1);
      n2 = Math.floor(Math.random()*L+1);
      n3 = Math.floor(Math.random()*L+1);
   
      document.getElementById("intext").value = n1;
      document.getElementById("intext1").value = n2;
      document.getElementById("intext2").value = n3;
      document.getElementById("mark").value = "+";
      document.getElementById("mark1").value = "-";

      adds= n1 + n2 - n3;
      }else if(ranNum == 3){

      n1 = Math.floor(Math.random()*multiply+2);
      n2 = Math.floor(Math.random()*multiply+2);
      if(level > 2){
         n3 = Math.floor(Math.random()*11+2)
      }else {
         n3 = 1;
      }
   
      document.getElementById("intext").value = n1;
      document.getElementById("intext1").value = n2;
      document.getElementById("intext2").value = n3;
      document.getElementById("mark").value = "×";
      document.getElementById("mark1").value = "×";

      adds= n1 * n2 * n3;
      }else if(ranNum == 4){

      n1 = Math.floor(Math.random()*multiply+2);
      n2 = Math.floor(Math.random()*multiply+2);
      n3 = Math.floor(Math.random()*multiply+2); 

      document.getElementById("intext").value = n1;
      document.getElementById("intext1").value = n2;
      document.getElementById("intext2").value = n3;
      document.getElementById("mark").value = "+";
      document.getElementById("mark1").value = "×";

      ladd = (n1 + n2)*n3;
      adds = n1 + n2 * n3;
      }

      }
      function redirectTo(path) {
        window.location.href = path;
    }
   </script>
</body>
</html>
